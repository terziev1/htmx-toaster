function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _wrapNativeSuper(t){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(e,t)})(t)}function _construct(t,e,n){var r;return _isNativeReflectConstruct()?Reflect.construct.apply(null,arguments):((r=[null]).push.apply(r,e),e=new(t.bind.apply(t,r)),n&&_setPrototypeOf(e,n.prototype),e)}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _isNativeFunction(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ToasterComponent=function(){function e(){var t;return _classCallCheck(this,e),(t=_callSuper(this,e)).attachShadow({mode:"open"}),t.toasts=[],t.touchStartX=0,t.touchEndX=0,t.currentToast=null,t.isDragging=!1,t.dragThreshold=10,t.initializeEventListener(),t.initializeContainer(),t}return _inherits(e,_wrapNativeSuper(HTMLElement)),_createClass(e,[{key:"initializeContainer",value:function(){var t=document.createElement("div");t.classList.add("toaster"),this.shadowRoot.appendChild(t)}},{key:"generateTheme",value:function(){var n,t,e,r,o,i=(null==(i=document.querySelector("script[data-htmxt-colors]"))?void 0:i.getAttribute("data-htmxt-colors"))||null;if(i)return i=i.split(";"),n=["#f2f2f2","#000","#e2f9ec","#e6f1fb","#f8e3e3"],t=(i=_slicedToArray(i.map(function(t,e){return t||n[e]}),5))[0],e=i[1],r=i[2],o=i[3],i=i[4],".toaster {--bg:".concat(t,";--txt:").concat(e,";--sc:").concat(r,";--in:").concat(o,";--er:").concat(i,";}")}},{key:"initializeEventListener",value:function(){var n=this;document.body.addEventListener("htmx:afterRequest",function(t){var e=t.detail.xhr.getResponseHeader("HXToaster-Body"),t=t.detail.xhr.getResponseHeader("HXToaster-Type")||"default";e&&n.addToast({body:e,type:t})})}},{key:"addToast",value:function(t){var e=t.body,t=t.type,n=Math.random().toString(36).substr(2,9);2==this.toasts.length&&this.removeToast(this.toasts[this.toasts.length-1].id),this.toasts.unshift({id:n,body:e,type:t}),this.renderToast(n)}},{key:"removeToast",value:function(e){var t,n=this.toasts.findIndex(function(t){return t.id===e});-1!=n&&(this.toasts.splice(n,1),t=this.shadowRoot.querySelector("#toast-".concat(e)))&&(t.classList.add("fade-out"),t.addEventListener("animationend",function(){t.remove()}))}},{key:"closeButton",value:function(t){return'<button class="close-btn" style="padding:4px;position:absolute;top:2px;right:2px;" type="button"  onclick="document.querySelector(\'htmx-toaster-component\').removeToast(\''.concat(t,'\')"> <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-4 w-4"><path d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button>')}},{key:"renderToast",value:function(e){var n=this,t=this.toasts.find(function(t){return t.id===e}),r=t.body,t=t.type,o=document.createElement("div");o.id="toast-".concat(e),o.className="toast ".concat(t),o.innerHTML="\n        <p>".concat(r,"</p>\n        ").concat(this.closeButton(e),"\n      "),this.shadowRoot.querySelector(".toaster").appendChild(o),o.addEventListener("touchstart",function(t){return n.handleTouchStart(t,o)},{passive:!0}),o.addEventListener("touchmove",function(t){return n.handleTouchMove(t)},{passive:!0}),o.addEventListener("touchend",function(t){return n.handleTouchEnd(t,e)},{passive:!0}),setTimeout(function(){return n.removeToast(e)},5e3)}},{key:"connectedCallback",value:function(){var t=document.createElement("style");t.textContent=" ".concat(this.generateTheme(),"\n    .toaster * {margin: 0;text-decoration: none;box-sizing: border-box;font-family: ui-sans-serif, system-ui, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;}\n    .toaster {\n      display: flex;\n      flex-direction: column-reverse;\n      justify-content: flex-end;\n      align-items: flex-end;\n      gap: 10px;\n      position: fixed;\n      z-index: 2147483647;\n      inset: 2rem;\n      user-select: none;\n      pointer-events: none;\n    }\n    .toast a {color:var(--txt, #000);}\n    .toast {\n      position: relative;\n      width: 100%;\n      padding: 12px;\n      padding-right: 16px;\n      background-color: var(--bg, #f2f2f2);\n      border: 1px solid rgb(228, 228, 231);\n      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n      border-radius: 10px;\n      font-size: 1rem;\n      line-height: 1.5rem;\n      z-index: 50;\n      color: var(--txt, #000);\n      text-align: left;\n      animation: slideIn 0.3s  cubic-bezier( 0.645, 0.045, 0.355, 1 )   forwards;\n      user-select: auto;\n      pointer-events: auto;\n    }\n    .toast p {margin: 4px 0;}\n    .success {background-color: var(--sc, #e2f9ec);}\n    .info {background-color: var(--in, #e6f1fb);}\n    .error {background-color: var(--er, #f8e3e3);}\n    @media (min-width: 640px) {\n      .toaster {inset: 3rem;}\n      .toast {max-width: 350px;}\n    }\n    .fade-out {animation: fadeOut 0.3s  forwards;}\n    .toast button {background-color: transparent;border: none;cursor: pointer;text-align: inherit;}\n    @keyframes slideIn {from {transform: translateY(-20px) scale(0.9);opacity: 0;}to {transform: translateY(0) scale(1);opacity: 1;}}\n    @keyframes fadeOut {from {opacity: 1;transform: scale(1);}to {opacity: 0;transform: scale(0.9);}}\n    "),this.shadowRoot.appendChild(t)}},{key:"handleTouchStart",value:function(t,e){this.touchStartX=t.changedTouches[0].screenX,this.currentToast=e,this.isDragging=!1}},{key:"handleTouchMove",value:function(t){this.currentToast&&(this.touchEndX=t.changedTouches[0].screenX,t=this.touchEndX-this.touchStartX,Math.abs(t)>this.dragThreshold)&&(this.isDragging=!0,this.currentToast.style.transform="translateX(".concat(t,"px)"))}},{key:"handleTouchEnd",value:function(t,e){var n,r=this;this.currentToast&&(n=this.touchEndX-this.touchStartX,this.isDragging&&100<Math.abs(n)?this.removeToast(e):(this.currentToast.style.transform="",this.currentToast.style.transition="transform 0.3s ease",setTimeout(function(){r.currentToast&&(r.currentToast.style.transition="")},300)),this.currentToast=null,this.touchStartX=0,this.touchEndX=0,this.isDragging=!1)}}])}();customElements.define("htmx-toaster-component",ToasterComponent),window.addEventListener("DOMContentLoaded",function(){var t=document.createElement("htmx-toaster-component");document.body.appendChild(t)});